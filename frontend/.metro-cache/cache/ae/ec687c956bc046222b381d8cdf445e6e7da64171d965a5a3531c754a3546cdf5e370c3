{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../trackPlayer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":50,"index":93}}],"key":"gv0d7JcxMdf3FxyZp+tv0d0XSJ0=","exportNames":["*"],"imports":1}},{"name":"../constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":37,"index":131}}],"key":"eTOOXVNPpMK2U8dOAmBWjbEJ4yE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useTrackPlayerEvents\", {\n    enumerable: true,\n    get: function () {\n      return useTrackPlayerEvents;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _trackPlayer = require(_dependencyMap[1], \"../trackPlayer\");\n  var _constants = require(_dependencyMap[2], \"../constants\");\n  /**\n   * Attaches a handler to the given TrackPlayer events and performs cleanup on unmount\n   * @param events - TrackPlayer events to subscribe to\n   * @param handler - callback invoked when the event fires\n   */\n  const useTrackPlayerEvents = (events, handler) => {\n    const savedHandler = (0, _react.useRef)(handler);\n    savedHandler.current = handler;\n    /* eslint-disable react-hooks/exhaustive-deps */\n    (0, _react.useEffect)(() => {\n      if (__DEV__) {\n        const allowedTypes = Object.values(_constants.Event);\n        const invalidTypes = events.filter(type => !allowedTypes.includes(type));\n        if (invalidTypes.length) {\n          console.warn('One or more of the events provided to useTrackPlayerEvents is ' + `not a valid TrackPlayer event: ${invalidTypes.join(\"', '\")}. ` + 'A list of available events can be found at ' + 'https://rntp.dev/docs/api/events');\n        }\n      }\n      const subs = events.map(type => (0, _trackPlayer.addEventListener)(type, payload => {\n        // @ts-expect-error - we know the type is correct\n        savedHandler.current({\n          ...payload,\n          type\n        });\n      }));\n      return () => subs.forEach(sub => sub.remove());\n    }, events);\n  };\n});","lineCount":43,"map":[[7,2,9,0,"Object"],[7,8,9,0],[7,9,9,0,"defineProperty"],[7,23,9,0],[7,24,9,0,"exports"],[7,31,9,0],[8,4,9,0,"enumerable"],[8,14,9,0],[9,4,9,0,"get"],[9,7,9,0],[9,18,9,0,"get"],[9,19,9,0],[10,6,9,0],[10,13,9,0,"useTrackPlayerEvents"],[10,33,9,0],[11,4,9,0],[12,2,9,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_trackPlayer"],[14,18,2,0],[14,21,2,0,"require"],[14,28,2,0],[14,29,2,0,"_dependencyMap"],[14,43,2,0],[15,2,3,0],[15,6,3,0,"_constants"],[15,16,3,0],[15,19,3,0,"require"],[15,26,3,0],[15,27,3,0,"_dependencyMap"],[15,41,3,0],[16,2,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,2,9,7],[21,8,9,13,"useTrackPlayerEvents"],[21,28,9,33],[21,31,9,36,"useTrackPlayerEvents"],[21,32,9,37,"events"],[21,38,9,43],[21,40,9,45,"handler"],[21,47,9,52],[21,52,9,57],[22,4,10,4],[22,10,10,10,"savedHandler"],[22,22,10,22],[22,25,10,25],[22,29,10,25,"useRef"],[22,35,10,31],[22,36,10,31,"useRef"],[22,42,10,31],[22,44,10,32,"handler"],[22,51,10,39],[22,52,10,40],[23,4,11,4,"savedHandler"],[23,16,11,16],[23,17,11,17,"current"],[23,24,11,24],[23,27,11,27,"handler"],[23,34,11,34],[24,4,12,4],[25,4,13,4],[25,8,13,4,"useEffect"],[25,14,13,13],[25,15,13,13,"useEffect"],[25,24,13,13],[25,26,13,14],[25,32,13,20],[26,6,14,8],[26,10,14,12,"__DEV__"],[26,17,14,19],[26,19,14,21],[27,8,15,12],[27,14,15,18,"allowedTypes"],[27,26,15,30],[27,29,15,33,"Object"],[27,35,15,39],[27,36,15,40,"values"],[27,42,15,46],[27,43,15,47,"Event"],[27,53,15,52],[27,54,15,52,"Event"],[27,59,15,52],[27,60,15,53],[28,8,16,12],[28,14,16,18,"invalidTypes"],[28,26,16,30],[28,29,16,33,"events"],[28,35,16,39],[28,36,16,40,"filter"],[28,42,16,46],[28,43,16,48,"type"],[28,47,16,52],[28,51,16,57],[28,52,16,58,"allowedTypes"],[28,64,16,70],[28,65,16,71,"includes"],[28,73,16,79],[28,74,16,80,"type"],[28,78,16,84],[28,79,16,85],[28,80,16,86],[29,8,17,12],[29,12,17,16,"invalidTypes"],[29,24,17,28],[29,25,17,29,"length"],[29,31,17,35],[29,33,17,37],[30,10,18,16,"console"],[30,17,18,23],[30,18,18,24,"warn"],[30,22,18,28],[30,23,18,29],[30,87,18,93],[30,90,19,20],[30,124,19,54,"invalidTypes"],[30,136,19,66],[30,137,19,67,"join"],[30,141,19,71],[30,142,19,72],[30,148,19,78],[30,149,19,79],[30,153,19,83],[30,156,20,20],[30,201,20,65],[30,204,21,20],[30,238,21,54],[30,239,21,55],[31,8,22,12],[32,6,23,8],[33,6,24,8],[33,12,24,14,"subs"],[33,16,24,18],[33,19,24,21,"events"],[33,25,24,27],[33,26,24,28,"map"],[33,29,24,31],[33,30,24,33,"type"],[33,34,24,37],[33,38,24,42],[33,42,24,42,"addEventListener"],[33,54,24,58],[33,55,24,58,"addEventListener"],[33,71,24,58],[33,73,24,59,"type"],[33,77,24,63],[33,79,24,66,"payload"],[33,86,24,73],[33,90,24,78],[34,8,25,12],[35,8,26,12,"savedHandler"],[35,20,26,24],[35,21,26,25,"current"],[35,28,26,32],[35,29,26,33],[36,10,26,35],[36,13,26,38,"payload"],[36,20,26,45],[37,10,26,47,"type"],[38,8,26,52],[38,9,26,53],[38,10,26,54],[39,6,27,8],[39,7,27,9],[39,8,27,10],[39,9,27,11],[40,6,28,8],[40,13,28,15],[40,19,28,21,"subs"],[40,23,28,25],[40,24,28,26,"forEach"],[40,31,28,33],[40,32,28,35,"sub"],[40,35,28,38],[40,39,28,43,"sub"],[40,42,28,46],[40,43,28,47,"remove"],[40,49,28,53],[40,50,28,54],[40,51,28,55],[40,52,28,56],[41,4,29,4],[41,5,29,5],[41,7,29,7,"events"],[41,13,29,13],[41,14,29,14],[42,2,30,0],[42,3,30,1],[43,0,30,2],[43,3]],"functionMap":{"names":["<global>","useTrackPlayerEvents","useEffect$argument_0","events.filter$argument_0","events.map$argument_0","addEventListener$argument_1","<anonymous>","subs.forEach$argument_0"],"mappings":"AAA;oCCQ;cCI;+CCG,sCD;gCEQ,iCC;SDG,CF;eIC,mBC,qBD,CJ;KDC;CDC"},"hasCjsExports":false},"type":"js/module"}]}